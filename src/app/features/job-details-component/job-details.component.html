<section class="job-details">
  <div class="job-details__hero" *ngIf="job() as j">
    <div class="job-details__hero-overlay"></div>
    <div class="job-details__hero-inner">
      <div class="job-details__hero-main">
        <a routerLink="/jobs" class="job-details__back">‚Üê {{ "JOBS.JOBDETAILS.BACKTOALLJOBS" | translate }}</a>

        <h1 class="job-details__title">{{ j.title }}</h1>

        <div class="job-details__company">
          {{ j.company_name || 'Monova partner employer' }}
        </div>

        <div class="job-details__chips">
          <span class="chip">
            {{ j.city || 'Multiple locations' }}, {{ j.country }}
          </span>
          <span class="chip" *ngIf="j.category">{{ j.category | translate }}</span>
          <span class="chip" *ngIf="j.employment_type">
            {{ j.employment_type | translate }}
          </span>
          <span class="chip" *ngIf="j.shift_type">{{ j.shift_type }}</span>
          <span class="chip chip--soft" *ngIf="j.housing_provided">
              {{ "JOBS.JOBDETAILS.HOUSINGPROVIDED" | translate }}
          </span>
          <span class="chip chip--soft" *ngIf="j.transport_provided">
              {{ "JOBS.JOBDETAILS.TRANSPORTSUPPORT" | translate }}
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="job-details__body-wrap">
    <div *ngIf="loading()" class="job-details__state">Loading job details...</div>
    <div *ngIf="error()" class="job-details__state job-details__state--err">
      {{ error() }}
    </div>

    <ng-container *ngIf="!loading() && !error() && job() as j">
      <div class="job-details__body">
        <section class="job-section">
          <h2>{{ "JOBS.JOBDETAILS.ABOUTTHISJOB" | translate }}</h2>
          <p>{{ j.full_description || j.short_description }}</p>
        </section>

        <section class="job-section" *ngIf="j.requirements_text">
          <h2>{{ 'JOBS.JOBDETAILS.REQUIREMENTS' | translate }}</h2>
          <p>{{ j.requirements_text }}</p>
        </section>

        <section class="job-section" *ngIf="j.benefits_text">
          <h2>{{ 'JOBS.JOBDETAILS.WHATWEOFFER' | translate }}</h2>
          <p>{{ j.benefits_text }}</p>
        </section>

        <section class="job-section" *ngIf="j.housing_details">
          <h2>{{ 'JOBS.JOBDETAILS.HOUSINGANDCONDITIONS' | translate }}</h2>
          <p>{{ j.housing_details }}</p>
        </section>

        <section class="job-section" *ngIf="j.requirements_text">
          <h2>{{ 'JOBS.JOBDETAILS.REQUIREDDOCUMENTS' | translate }}</h2>
          <p>{{ j.requirements_text }}</p>
        </section>

        <section class="job-section job-hint">
          <p>
            {{ 'JOBS.JOBDETAILS.JOBHINT' | translate }}
          </p>
        </section>
      </div>
    </ng-container>
  </div>
</section>
